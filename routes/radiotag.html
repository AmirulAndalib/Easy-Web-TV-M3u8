<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Category</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="author" content="Zhang Boheng">
    <meta name="keywords" content="iptv, movie, github, online tv, web tv, series tv...">
    <link href="../css/main.css" rel="stylesheet" />
    <script src="../js/jquery-3.6.0.min.js"></script>
</head>
<style>
    body {
        background-image: url("../images/bg.jpg");
    }
    
    #menu {
        overflow-y: scroll !important;
    }
</style>
<script>
    //Set a array to store source links
    var radiosource = ['https://de1.api.radio-browser.info/', 'https://fr1.api.radio-browser.info/', 'https://nl1.api.radio-browser.info/'];
    //Set a random integer
    var rand = Math.floor(Math.random() * radiosource.length);
    $(document).ready(function() {
        let count = $.getJSON(radiosource[rand] + 'json/tags');
        $.when(count).done(function(data) {
            let languagearr = data;
            $('#menu').empty();
            for (let i in languagearr) {
                $('#menu').append(`<li><p><a href='../catalogues/rtagsplay.html?tab=${languagearr[i].name}'>${languagearr[i].name}(${languagearr[i].stationcount})</a></p></li>`);
            }
        });
        setInterval(function() {
            if ($('#menu li').length == 0 || $('#menu li').length == 1) {
                alert('Can\' t load list now, Please refresh the page to change source links')
            }
        }, 10000);
    });
</script>

<body>
    <div id="left">
        <h3>Select Category</h3>
        <ul id="menu">
            <li>
                <p>Category list is loading...</p>
            </li>
        </ul>
    </div>
    <div id="right">
        <div id="div1">
            <img src="../images/index.png" />
        </div>
    </div>
    <script>
        let menuHeight = document.getElementById('menu');
        let screenHeight = window.innerHeight;
        menuHeight.style.height = screenHeight - 60 + "px";
        $("#menu").css({
            "overflow-y": "auto",
            "height": menuHeight
        });
        $("li p").mouseover(function() {
            $(this).children("a").css({
                "color": "#000"
            })
        })
        $("li p").mouseleave(function() {
            $(this).children("a").css({
                "color": "#fff"
            })
        })
    </script>
</body>

</html>